(function(){const e=document.querySelector("#book-search-input"),t=document.querySelector("#book-search-results");e.addEventListener("focus",n),e.addEventListener("keyup",s);function n(){e.removeEventListener("focus",n),e.required=!0,o("/lunr.min.js"),o("/search-data.min.9adf3ce1668ea8c7897715feaa6b4ddc4e6215f89d84fefa24984cd11270e881.js",function(){e.readOnly=!1,e.required=!1,s()})}function s(){for(;t.firstChild;)t.removeChild(t.firstChild);if(!e.value)return;const n=lunr.tokenizer(e.value),s=window.bookSearch.idx.query(function(e){e.term(n,{boost:100}),e.term(n,{boost:10,wildcard:lunr.Query.wildcard.LEADING|lunr.Query.wildcard.TRAILING}),e.term(n,{editDistance:2})});s.slice(0,10).forEach(function(o){const e=window.bookSearch.pages[o.ref],n=document.createElement("li"),s=n.appendChild(document.createElement("a"));s.href=e.href,s.textContent=e.title,t.appendChild(n)})}function o(t,n){const e=document.createElement("script");e.defer=!0,e.src=t,e.onload=n,document.head.append(e)}})()